---
title: 'Create Test'
api: 'POST /api/v1/tests'
description: 'Create a new UI test'
---

## Request Body

<ParamField body="project_id" type="string" required>
  The unique identifier of the project this test belongs to
</ParamField>

<ParamField body="name" type="string" required>
  The name of the test
</ParamField>

<ParamField body="description" type="string">
  A detailed description of what the test verifies
</ParamField>

<ParamField body="steps" type="array" required>
  <Expandable title="properties">
    <ParamField body="type" type="string" required>
      Type of step: `navigate`, `click`, `type`, `assert`, `wait`, `custom`
    </ParamField>
    <ParamField body="description" type="string" required>
      Human-readable description of what the step does
    </ParamField>
    <ParamField body="selector" type="string">
      CSS or XPath selector for element interaction steps
    </ParamField>
    <ParamField body="value" type="string">
      Value to type or assert against
    </ParamField>
    <ParamField body="timeout" type="integer">
      Step-specific timeout in seconds
    </ParamField>
    <ParamField body="screenshot" type="boolean">
      Whether to capture a screenshot after this step
    </ParamField>
  </Expandable>
</ParamField>

<ParamField body="tags" type="array">
  List of tags for organizing tests
</ParamField>

<ParamField body="configuration" type="object">
  <Expandable title="properties">
    <ParamField body="retry_on_failure" type="boolean">
      Whether to retry failed steps. Default: true
    </ParamField>
    <ParamField body="max_retries" type="integer">
      Maximum number of retries per step. Default: 3
    </ParamField>
    <ParamField body="retry_interval" type="integer">
      Seconds to wait between retries. Default: 1
    </ParamField>
    <ParamField body="timeout" type="integer">
      Global timeout for the test in seconds. Default: 300
    </ParamField>
  </Expandable>
</ParamField>

## Response

<ResponseField name="id" type="string">
  The unique identifier of the created test
</ResponseField>

<ResponseField name="project_id" type="string">
  The project identifier
</ResponseField>

<ResponseField name="name" type="string">
  The name of the test
</ResponseField>

<ResponseField name="description" type="string">
  The test description
</ResponseField>

<ResponseField name="created_at" type="string">
  ISO 8601 timestamp of when the test was created
</ResponseField>

<ResponseField name="steps" type="array">
  Array of test steps
</ResponseField>

<ResponseField name="tags" type="array">
  List of test tags
</ResponseField>

<ResponseField name="configuration" type="object">
  Test configuration settings
</ResponseField>

## Example Request

```bash
curl -X POST https://api.tryiris.dev/api/v1/tests \
  -H "Authorization: Bearer ${API_KEY}" \
  -H "Content-Type: application/json" \
  -d '{
    "project_id": "prj_9a8b7c6d5e",
    "name": "Product Purchase Flow",
    "description": "Verify that users can successfully purchase a product",
    "steps": [
      {
        "type": "navigate",
        "description": "Navigate to product page",
        "value": "/products/demo-product"
      },
      {
        "type": "click",
        "description": "Click Add to Cart button",
        "selector": "#add-to-cart-button"
      },
      {
        "type": "wait",
        "description": "Wait for cart update",
        "selector": ".cart-count[data-count='1']",
        "timeout": 5
      },
      {
        "type": "assert",
        "description": "Verify product added to cart",
        "selector": ".cart-item",
        "value": "Demo Product"
      }
    ],
    "tags": ["e-commerce", "critical-path"],
    "configuration": {
      "retry_on_failure": true,
      "max_retries": 3,
      "retry_interval": 2,
      "timeout": 300
    }
  }'
```

## Example Response

```json
{
  "id": "tst_1a2b3c4d5e",
  "project_id": "prj_9a8b7c6d5e",
  "name": "Product Purchase Flow",
  "description": "Verify that users can successfully purchase a product",
  "created_at": "2024-01-20T16:00:00Z",
  "steps": [
    {
      "type": "navigate",
      "description": "Navigate to product page",
      "value": "/products/demo-product"
    },
    {
      "type": "click",
      "description": "Click Add to Cart button",
      "selector": "#add-to-cart-button"
    },
    {
      "type": "wait",
      "description": "Wait for cart update",
      "selector": ".cart-count[data-count='1']",
      "timeout": 5
    },
    {
      "type": "assert",
      "description": "Verify product added to cart",
      "selector": ".cart-item",
      "value": "Demo Product"
    }
  ],
  "tags": ["e-commerce", "critical-path"],
  "configuration": {
    "retry_on_failure": true,
    "max_retries": 3,
    "retry_interval": 2,
    "timeout": 300
  }
}
```

## Error Responses

<ResponseField name="400 Bad Request" type="object">
  Invalid request body or parameters
  ```json
  {
    "error": "invalid_request",
    "message": "Invalid step configuration"
  }
  ```
</ResponseField>

<ResponseField name="401 Unauthorized" type="object">
  Missing or invalid API key
  ```json
  {
    "error": "unauthorized",
    "message": "Invalid API key provided"
  }
  ```
</ResponseField>

<ResponseField name="404 Not Found" type="object">
  Project not found
  ```json
  {
    "error": "not_found",
    "message": "Project not found"
  }
  ```
</ResponseField>

<ResponseField name="409 Conflict" type="object">
  Test name already exists in project
  ```json
  {
    "error": "conflict",
    "message": "Test name already exists in this project"
  }
  ```
</ResponseField> 