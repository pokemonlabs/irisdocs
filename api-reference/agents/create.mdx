---
title: 'Create Agent'
description: 'Create a new AI agent for automated testing'
api: 'POST https://app.tryiris.dev/api/trpc/agent.create'
authentication: true
---

## Create Agent

Create a new AI agent with specified provider and model type.

### Headers

<ParamField header="IRIS_ACCESS_TOKEN" type="string" required>
  Your Iris API access token
</ParamField>

### Body

<ParamField body="data" type="object" required>
  <Expandable title="properties">
    <ParamField body="provider" type="string" required>
      The AI provider to use
    </ParamField>

    <ParamField body="modelType" type="string" required>
      Type of model to create
    </ParamField>

    <ParamField body="organizationId" type="string" required>
      Your organization ID
    </ParamField>

    <ParamField body="anthropicApiKey" type="string" required>
      Your Anthropic API key
    </ParamField>
  </Expandable>
</ParamField>

### Response

Returns the created agent details upon success.

<CodeGroup>

```json Request Body
{
  "0": {
    "json": {
      "data": {
        "provider": "<provider>",
        "modelType": "<model-type>",
        "organizationId": "<your-organization-id>",
        "anthropicApiKey": "<your-anthropic-api-key>"
      }
    }
  }
}
```

```bash Request Example
curl -X POST 'https://app.tryiris.dev/api/trpc/agent.create' \
  -H 'Content-Type: application/json' \
  -H 'Authorization: Bearer <your-iris-token>' \
  -d @- << EOF
{
  "0": {
    "json": {
      "data": {
        "provider": "<provider>",
        "modelType": "<model-type>",
        "organizationId": "<your-organization-id>",
        "anthropicApiKey": "<your-anthropic-api-key>"
      }
    }
  }
}
EOF
```

</CodeGroup>

<ResponseExample>
```json Response
[
  {
    "result": {
      "data": {
        "json": {
          "id": "174a0ac6-9d0d-43ad-a2c0-d11e52b36c91",
          "provider": "anthropic",
          "modelType": "claude-3-5-sonnet-20241022",
          "numAgents": 0,
          "isActive": true,
          "anthropicApiKey": null,
          "awsAccessKeyId": null,
          "awsSecretAccessKey": null,
          "awsSessionToken": null,
          "awsRegion": null,
          "apiEndpoint": null,
          "apiKey": null,
          "organizationId": "6ae3ce30-c530-4a80-b9eb-d7acfcf7ee73",
          "createdAt": "2025-01-01T07:06:07.758Z",
          "updatedAt": "2025-01-01T07:06:07.758Z"
        },
        "meta": {
          "values": {
            "createdAt": ["Date"],
            "updatedAt": ["Date"]
          }
        }
      }
    }
  }
]
```
</ResponseExample>

### Response Fields

<ResponseField name="id" type="string">
  Unique identifier for the created agent
</ResponseField>

<ResponseField name="provider" type="string">
  The AI provider being used
</ResponseField>

<ResponseField name="modelType" type="string">
  The type of model created
</ResponseField>

<ResponseField name="numAgents" type="number">
  Number of agents (defaults to 0)
</ResponseField>

<ResponseField name="isActive" type="boolean">
  Whether the agent is active
</ResponseField>

<ResponseField name="organizationId" type="string">
  The organization ID associated with the agent
</ResponseField>

<ResponseField name="createdAt" type="date">
  Timestamp of when the agent was created
</ResponseField>

<ResponseField name="updatedAt" type="date">
  Timestamp of when the agent was last updated
</ResponseField>